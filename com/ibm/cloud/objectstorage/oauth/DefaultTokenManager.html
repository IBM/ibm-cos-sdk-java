<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_112) on Thu Mar 28 15:25:22 CDT 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DefaultTokenManager (IBM COS SDK for Java 2.4.4 API)</title>
<meta name="date" content="2019-03-28">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DefaultTokenManager (IBM COS SDK for Java 2.4.4 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":9,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefaultTokenManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/ibm/cloud/objectstorage/oauth/BasicIBMOAuthCredentials.html" title="class in com.ibm.cloud.objectstorage.oauth"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenProvider.html" title="class in com.ibm.cloud.objectstorage.oauth"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html" target="_top">Frames</a></li>
<li><a href="DefaultTokenManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.ibm.cloud.objectstorage.oauth</div>
<h2 title="Class DefaultTokenManager" class="title">Class DefaultTokenManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.ibm.cloud.objectstorage.oauth.DefaultTokenManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../com/ibm/cloud/objectstorage/oauth/TokenManager.html" title="interface in com.ibm.cloud.objectstorage.oauth">TokenManager</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">DefaultTokenManager</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../com/ibm/cloud/objectstorage/oauth/TokenManager.html" title="interface in com.ibm.cloud.objectstorage.oauth">TokenManager</a></pre>
<div class="block">Default implementation of Token Manager. This design will allow the class to
 be created with multiple constructors, yet only one instance can be created.
 The DefaultTokenProvider is used to retrieve the token from the IAM Service
 which uses the api key method. A client can also use their own implementation
 of TokenHandler</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="../../../../../com/ibm/cloud/objectstorage/log/InternalLogApi.html" title="interface in com.ibm.cloud.objectstorage.log">InternalLogApi</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#log">log</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#DefaultTokenManager-java.lang.String-">DefaultTokenManager</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;apiKey)</code>
<div class="block">Default constructor using the apiKey.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#DefaultTokenManager-com.ibm.cloud.objectstorage.oauth.TokenProvider-">DefaultTokenManager</a></span>(<a href="../../../../../com/ibm/cloud/objectstorage/oauth/TokenProvider.html" title="interface in com.ibm.cloud.objectstorage.oauth">TokenProvider</a>&nbsp;provider)</code>
<div class="block">Constructor which will allow a custom TokenHandler to retrieve the token
 from the IAM Service</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#addProxyConfig-org.apache.http.impl.client.HttpClientBuilder-com.ibm.cloud.objectstorage.http.settings.HttpClientSettings-">addProxyConfig</a></span>(org.apache.http.impl.client.HttpClientBuilder&nbsp;builder,
              <a href="../../../../../com/ibm/cloud/objectstorage/http/settings/HttpClientSettings.html" title="class in com.ibm.cloud.objectstorage.http.settings">HttpClientSettings</a>&nbsp;settings)</code>
<div class="block">Add a proxy to the http request if it has been set within settings</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#cacheToken-com.ibm.cloud.objectstorage.oauth.Token-">cacheToken</a></span>(<a href="../../../../../com/ibm/cloud/objectstorage/oauth/Token.html" title="class in com.ibm.cloud.objectstorage.oauth">Token</a>&nbsp;token)</code>
<div class="block">Add the Token object to in-memory cache</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#checkCache--">checkCache</a></span>()</code>
<div class="block">Check if cache has a Token object stored</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#finalize--">finalize</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../com/ibm/cloud/objectstorage/oauth/Token.html" title="class in com.ibm.cloud.objectstorage.oauth">Token</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#getCachedToken--">getCachedToken</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/ibm/cloud/objectstorage/ClientConfiguration.html" title="class in com.ibm.cloud.objectstorage">ClientConfiguration</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#getClientConfiguration--">getClientConfiguration</a></span>()</code>
<div class="block">Client config to customise the IAM Client</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../../com/ibm/cloud/objectstorage/oauth/TokenProvider.html" title="interface in com.ibm.cloud.objectstorage.oauth">TokenProvider</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#getProvider--">getProvider</a></span>()</code>
<div class="block">Return the TokenProvider used by the TokenManager</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#getToken--">getToken</a></span>()</code>
<div class="block">Retrieve the access token String from the OAuth2 token object</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#hasTokenExpired-com.ibm.cloud.objectstorage.oauth.Token-">hasTokenExpired</a></span>(<a href="../../../../../com/ibm/cloud/objectstorage/oauth/Token.html" title="class in com.ibm.cloud.objectstorage.oauth">Token</a>&nbsp;token)</code>
<div class="block">Check if the current cached token has expired.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#isAsyncInProgress--">isAsyncInProgress</a></span>()</code>
<div class="block">boolean value to signal if the async refresh method is already in use</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#isTokenExpiring-com.ibm.cloud.objectstorage.oauth.Token-">isTokenExpiring</a></span>(<a href="../../../../../com/ibm/cloud/objectstorage/oauth/Token.html" title="class in com.ibm.cloud.objectstorage.oauth">Token</a>&nbsp;token)</code>
<div class="block">Check if the current cached token is expiring in less than the given
 offset.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#retrieveToken--">retrieveToken</a></span>()</code>
<div class="block">retrieve token from provider.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../com/ibm/cloud/objectstorage/oauth/Token.html" title="class in com.ibm.cloud.objectstorage.oauth">Token</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#retrieveTokenFromCache--">retrieveTokenFromCache</a></span>()</code>
<div class="block">Retrieve the IAM token from cache storage</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#setClientConfiguration-com.ibm.cloud.objectstorage.ClientConfiguration-">setClientConfiguration</a></span>(<a href="../../../../../com/ibm/cloud/objectstorage/ClientConfiguration.html" title="class in com.ibm.cloud.objectstorage">ClientConfiguration</a>&nbsp;clientConfiguration)</code>
<div class="block">Set the client config that is been used on the s3client</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#setIamEndpoint-java.lang.String-">setIamEndpoint</a></span>(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;iamEndpoint)</code>
<div class="block">Over write the default IAM endpoint.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#setIamMaxRetry-int-">setIamMaxRetry</a></span>(int&nbsp;count)</code>
<div class="block">Over write the default IAM max retry count.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#setIamRefreshOffset-double-">setIamRefreshOffset</a></span>(double&nbsp;offset)</code>
<div class="block">Over write the default IAM refresh offset.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#setTokenCache-com.ibm.cloud.objectstorage.oauth.Token-">setTokenCache</a></span>(<a href="../../../../../com/ibm/cloud/objectstorage/oauth/Token.html" title="class in com.ibm.cloud.objectstorage.oauth">Token</a>&nbsp;token)</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html#submitRefreshTask--">submitRefreshTask</a></span>()</code>
<div class="block">Submits a token refresh task</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="log">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>log</h4>
<pre>protected static final&nbsp;<a href="../../../../../com/ibm/cloud/objectstorage/log/InternalLogApi.html" title="interface in com.ibm.cloud.objectstorage.log">InternalLogApi</a> log</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DefaultTokenManager-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DefaultTokenManager</h4>
<pre>public&nbsp;DefaultTokenManager(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;apiKey)</pre>
<div class="block">Default constructor using the apiKey. This instance will use the
 DefaultTokenProvider to retrieve the access token.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>apiKey</code> - The IBM API Key</dd>
</dl>
</li>
</ul>
<a name="DefaultTokenManager-com.ibm.cloud.objectstorage.oauth.TokenProvider-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DefaultTokenManager</h4>
<pre>public&nbsp;DefaultTokenManager(<a href="../../../../../com/ibm/cloud/objectstorage/oauth/TokenProvider.html" title="interface in com.ibm.cloud.objectstorage.oauth">TokenProvider</a>&nbsp;provider)</pre>
<div class="block">Constructor which will allow a custom TokenHandler to retrieve the token
 from the IAM Service</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>provider</code> - The Token Provider which will retrieve the Token Object from
            the IAM service</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setIamEndpoint-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIamEndpoint</h4>
<pre>public&nbsp;void&nbsp;setIamEndpoint(<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;iamEndpoint)</pre>
<div class="block">Over write the default IAM endpoint. This should only be done in a
 development or staging environment</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>iamEndpoint</code> - The http endpoint to retrieve the token</dd>
</dl>
</li>
</ul>
<a name="setIamRefreshOffset-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIamRefreshOffset</h4>
<pre>public&nbsp;void&nbsp;setIamRefreshOffset(double&nbsp;offset)</pre>
<div class="block">Over write the default IAM refresh offset. This should only be done in a
 development or staging environment</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>offset</code> - The percentage of token life that token should be refreshed
            before expiration.</dd>
</dl>
</li>
</ul>
<a name="setIamMaxRetry-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setIamMaxRetry</h4>
<pre>public&nbsp;void&nbsp;setIamMaxRetry(int&nbsp;count)</pre>
<div class="block">Over write the default IAM max retry count. This should only be done in a
 development or staging environment</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>offset</code> - The max number of times to attempt IAM token retrieval.</dd>
</dl>
</li>
</ul>
<a name="getProvider--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getProvider</h4>
<pre>public&nbsp;<a href="../../../../../com/ibm/cloud/objectstorage/oauth/TokenProvider.html" title="interface in com.ibm.cloud.objectstorage.oauth">TokenProvider</a>&nbsp;getProvider()</pre>
<div class="block">Return the TokenProvider used by the TokenManager</div>
</li>
</ul>
<a name="getToken--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getToken</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getToken()</pre>
<div class="block">Retrieve the access token String from the OAuth2 token object</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/ibm/cloud/objectstorage/oauth/TokenManager.html#getToken--">getToken</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/ibm/cloud/objectstorage/oauth/TokenManager.html" title="interface in com.ibm.cloud.objectstorage.oauth">TokenManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String
                        An access token String value</dd>
</dl>
</li>
</ul>
<a name="checkCache--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkCache</h4>
<pre>protected&nbsp;boolean&nbsp;checkCache()</pre>
<div class="block">Check if cache has a Token object stored</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean Indicates if the Token has been cached</dd>
</dl>
</li>
</ul>
<a name="cacheToken-com.ibm.cloud.objectstorage.oauth.Token-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cacheToken</h4>
<pre>protected&nbsp;void&nbsp;cacheToken(<a href="../../../../../com/ibm/cloud/objectstorage/oauth/Token.html" title="class in com.ibm.cloud.objectstorage.oauth">Token</a>&nbsp;token)</pre>
<div class="block">Add the Token object to in-memory cache</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>token</code> - The IAM Token object</dd>
</dl>
</li>
</ul>
<a name="retrieveTokenFromCache--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieveTokenFromCache</h4>
<pre>protected&nbsp;<a href="../../../../../com/ibm/cloud/objectstorage/oauth/Token.html" title="class in com.ibm.cloud.objectstorage.oauth">Token</a>&nbsp;retrieveTokenFromCache()</pre>
<div class="block">Retrieve the IAM token from cache storage</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Token The IAM Token object</dd>
</dl>
</li>
</ul>
<a name="hasTokenExpired-com.ibm.cloud.objectstorage.oauth.Token-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasTokenExpired</h4>
<pre>protected&nbsp;boolean&nbsp;hasTokenExpired(<a href="../../../../../com/ibm/cloud/objectstorage/oauth/Token.html" title="class in com.ibm.cloud.objectstorage.oauth">Token</a>&nbsp;token)</pre>
<div class="block">Check if the current cached token has expired. If it has a synchronous
 http call is made to the IAM service to retrieve & store a new token</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>token</code> - The IAM Token object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean Indicates if the currently cached token has expired</dd>
</dl>
</li>
</ul>
<a name="isTokenExpiring-com.ibm.cloud.objectstorage.oauth.Token-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTokenExpiring</h4>
<pre>protected&nbsp;boolean&nbsp;isTokenExpiring(<a href="../../../../../com/ibm/cloud/objectstorage/oauth/Token.html" title="class in com.ibm.cloud.objectstorage.oauth">Token</a>&nbsp;token)</pre>
<div class="block">Check if the current cached token is expiring in less than the given
 offset. If it is, an asynchronous call is made to the IAM service to
 update the cache.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>token</code> - The IAM Token object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean Indicates if the currently cached token is due refresh</dd>
</dl>
</li>
</ul>
<a name="getCachedToken--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCachedToken</h4>
<pre>protected&nbsp;<a href="../../../../../com/ibm/cloud/objectstorage/oauth/Token.html" title="class in com.ibm.cloud.objectstorage.oauth">Token</a>&nbsp;getCachedToken()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean currently cached Token object</dd>
</dl>
</li>
</ul>
<a name="setTokenCache-com.ibm.cloud.objectstorage.oauth.Token-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTokenCache</h4>
<pre>protected&nbsp;void&nbsp;setTokenCache(<a href="../../../../../com/ibm/cloud/objectstorage/oauth/Token.html" title="class in com.ibm.cloud.objectstorage.oauth">Token</a>&nbsp;token)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>token</code> - Sets the Token object in cache</dd>
</dl>
</li>
</ul>
<a name="retrieveToken--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieveToken</h4>
<pre>protected&nbsp;void&nbsp;retrieveToken()</pre>
<div class="block">retrieve token from provider. Ensures each thread checks the token is
 null prior to making the callout to IAM</div>
</li>
</ul>
<a name="submitRefreshTask--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>submitRefreshTask</h4>
<pre>protected&nbsp;void&nbsp;submitRefreshTask()</pre>
<div class="block">Submits a token refresh task</div>
</li>
</ul>
<a name="isAsyncInProgress--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAsyncInProgress</h4>
<pre>protected&nbsp;boolean&nbsp;isAsyncInProgress()</pre>
<div class="block">boolean value to signal if the async refresh method is already in use</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean</dd>
</dl>
</li>
</ul>
<a name="getClientConfiguration--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClientConfiguration</h4>
<pre>public&nbsp;<a href="../../../../../com/ibm/cloud/objectstorage/ClientConfiguration.html" title="class in com.ibm.cloud.objectstorage">ClientConfiguration</a>&nbsp;getClientConfiguration()</pre>
<div class="block">Client config to customise the IAM Client</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="setClientConfiguration-com.ibm.cloud.objectstorage.ClientConfiguration-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setClientConfiguration</h4>
<pre>public&nbsp;void&nbsp;setClientConfiguration(<a href="../../../../../com/ibm/cloud/objectstorage/ClientConfiguration.html" title="class in com.ibm.cloud.objectstorage">ClientConfiguration</a>&nbsp;clientConfiguration)</pre>
<div class="block">Set the client config that is been used on the s3client</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>clientConfiguration</code> - </dd>
</dl>
</li>
</ul>
<a name="finalize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalize</h4>
<pre>protected&nbsp;void&nbsp;finalize()
                 throws <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a></code>&nbsp;in class&nbsp;<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></dd>
</dl>
</li>
</ul>
<a name="addProxyConfig-org.apache.http.impl.client.HttpClientBuilder-com.ibm.cloud.objectstorage.http.settings.HttpClientSettings-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>addProxyConfig</h4>
<pre>public static&nbsp;void&nbsp;addProxyConfig(org.apache.http.impl.client.HttpClientBuilder&nbsp;builder,
                                  <a href="../../../../../com/ibm/cloud/objectstorage/http/settings/HttpClientSettings.html" title="class in com.ibm.cloud.objectstorage.http.settings">HttpClientSettings</a>&nbsp;settings)</pre>
<div class="block">Add a proxy to the http request if it has been set within settings</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>builder</code> - Builder used to create the http client</dd>
<dd><code>settings</code> - Settings which contain any proxy configuration details</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DefaultTokenManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/ibm/cloud/objectstorage/oauth/BasicIBMOAuthCredentials.html" title="class in com.ibm.cloud.objectstorage.oauth"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../com/ibm/cloud/objectstorage/oauth/DefaultTokenProvider.html" title="class in com.ibm.cloud.objectstorage.oauth"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/ibm/cloud/objectstorage/oauth/DefaultTokenManager.html" target="_top">Frames</a></li>
<li><a href="DefaultTokenManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2019. All rights reserved.</small></p>
</body>
</html>
